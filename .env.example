# Logging Control
# Set ACCESS_LOGS=true to enable Gunicorn access logs (default: disabled for quiet production)
ACCESS_LOGS=false
# MyBibliotheca Production Environment Configuration
# Copy this file to .env and customize the values for your deployment

# REQUIRED: Security Keys (MUST be changed for production)
# Generate with: python3 -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-super-secret-key-32-chars-minimum-change-this
SECURITY_PASSWORD_SALT=your-password-salt-change-this

# Session Configuration
# Options: 'cachelib' (memory), 'redis', 'filesystem'
# Use 'cachelib' for development, 'redis' for production
SESSION_TYPE=cachelib

# Redis Configuration (only needed if SESSION_TYPE=redis)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_SESSION_DB=0

# Application Settings
TIMEZONE=UTC
READING_STREAK_OFFSET=0
# Password policy (minimum allowed 8, maximum 128)
PASSWORD_MIN_LENGTH=12

# Database Configuration
KUZU_DB_PATH=./data/kuzu
GRAPH_DATABASE_ENABLED=true

# Performance Settings
# CRITICAL: Must be 1 for KuzuDB compatibility (no concurrent access support)
WORKERS=1

# Development Only (DO NOT USE IN PRODUCTION)
# These credentials are only for development/testing environments
# DEV_ADMIN_USERNAME=testadmin
# DEV_ADMIN_PASSWORD=TestPassword123!

# API Authentication (for development only)
# API_TEST_TOKEN=dev-token-12345-secure-for-testing

# Optional: Resource limits (uncomment deploy section in docker-compose.yml)
# Memory and CPU limits help prevent resource exhaustion

# Optional: SSL/TLS Settings (if using HTTPS)
# FORCE_HTTPS=true
# SECURE_COOKIES=true

# Optional: Backup Settings (if implementing automated backups)
# BACKUP_ENABLED=true
# BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
# BACKUP_RETENTION_DAYS=30

# Optional: Monitoring and Logging
# HEALTH_CHECK_ENABLED=true
# Log level controls both Gunicorn and Flask logging. Options: CRITICAL, ERROR, WARNING, INFO, DEBUG
LOG_LEVEL=ERROR
# Optional per-component debug flags (default off)
MYBIBLIOTHECA_VERBOSE_INIT=false
# Enable opt-in request logging wrapper
# MYBIBLIOTHECA_REQUEST_LOG=false
# Enable Kuzu query logging (very verbose)
# KUZU_QUERY_LOG=false
# Log slow Kuzu queries over N milliseconds (still logs even if KUZU_QUERY_LOG=false)
# KUZU_SLOW_QUERY_MS=150

# Notes:
# - Generate secure random keys for SECRET_KEY and SECURITY_PASSWORD_SALT
# - Use environment-specific values (don't commit .env to version control)
# - Consider using Docker secrets or external secret management in production
# - Set appropriate file permissions on .env (chmod 600 .env)
